<form method="post" enctype="multipart/form-data">
  <label>Staff Name:</label><br>
  <input name="name" required><br><br>

  <label>Role:</label><br>
  <input name="role" required><br><br>

  <label>Upload File:</label><br>
  <input type="file" name="file" required><br><br>

  <button type="submit">Upload</button>
</form>

<h3>Uploaded Staff</h3>
<ul>
  {% for s in staff %}
    <li>
      <strong>{{ s.name }}</strong> - {{ s.role }}<br>
      File: {{ s.file }}<br>
      Type: {{ s.file.rsplit('.', 1)[1] }}<br>

      {% if s.file.endswith(('png', 'jpg', 'jpeg', 'gif')) %}
        <img src="{{ url_for('uploaded_file', filename=s.file) }}" width="100"><br>
      {% elif s.file.endswith('pdf') %}
        <iframe src="{{ url_for('uploaded_file', filename=s.file) }}" width="400" height="300"></iframe><br>
      {% elif s.file.endswith(('mp4', 'avi')) %}
        <video width="320" height="240" controls>
          <source src="{{ url_for('uploaded_file', filename=s.file) }}">
        </video><br>
      {% endif %}

      {% if s.uploaded_by == session['user'] %}
        <form method="POST" action="/request_edit/{{ s.id }}">
          <button type="submit">Request Edit</button>
        </form>
      {% endif %}

      <hr>
    </li>
  {% endfor %}
</ul>
